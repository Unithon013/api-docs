{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/users/onboarding":{"post":{"tags":["user-controller"],"operationId":"onboarding","parameters":[{"name":"requestDto","in":"query","required":true,"schema":{"$ref":"#/components/schemas/OnboardingRequestDto"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/recommendations":{"get":{"tags":["recommendation-controller"],"operationId":"getRecommendations","parameters":[{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecommendedUserDto"}}}}}}},"post":{"tags":["recommendation-controller"],"operationId":"createRecommendation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Recommendation"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Recommendation"}}}}}}},"/recommendations/{targetUserId}/contact":{"post":{"tags":["recommendation-controller"],"operationId":"contactUser","parameters":[{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"targetUserId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RoomResponseDto"}}}}}}},"/recommendations/additional":{"post":{"tags":["recommendation-controller"],"operationId":"getAdditionalRecommendations","parameters":[{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdditionalRecommendationRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecommendedUserDto"}}}}}}}},"/chats/{chatId}/message":{"post":{"tags":["chat-controller"],"operationId":"sendMessage","parameters":[{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"chatId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageResponseDto"}}}}}}}},"/chats/rooms":{"post":{"tags":["chat-controller"],"operationId":"createRoom","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Room"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Room"}}}}}}},"/users/me":{"get":{"tags":["user-controller"],"operationId":"getMyInfo","parameters":[{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/chats":{"get":{"tags":["chat-controller"],"operationId":"getMyChatRooms","parameters":[{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatRoomDto"}}}}}}}},"/chats/{chatId}/messages":{"get":{"tags":["chat-controller"],"operationId":"getMessages","parameters":[{"name":"chatId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageResponseDto"}}}}}}}}},"components":{"schemas":{"OnboardingRequestDto":{"type":"object","properties":{"video":{"type":"string","format":"binary"},"profileUrl":{"type":"string"}}},"User":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"age":{"type":"string"},"gender":{"type":"string","enum":["M","F"]},"hobbies":{"type":"string"},"videoUrl":{"type":"string"},"location":{"type":"string"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"point":{"type":"integer","format":"int32"},"profileUrl":{"type":"string"},"introduction":{"type":"string"},"status":{"type":"string","enum":["PROCESSING","COMPLETE","FAILED"]}}},"Recommendation":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int64"},"user":{"$ref":"#/components/schemas/User"},"recommendedUser":{"$ref":"#/components/schemas/User"},"date":{"type":"string","format":"date"}}},"MessageDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"senderId":{"type":"integer","format":"int64"},"messageContent":{"type":"string"},"messageType":{"type":"string","enum":["TEXT","VIDEO"]},"createdAt":{"type":"string","format":"date-time"}}},"ParticipantDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"}}},"RoomResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"lastMessage":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"participants":{"type":"array","items":{"$ref":"#/components/schemas/ParticipantDto"}},"messages":{"type":"array","items":{"$ref":"#/components/schemas/MessageDto"}}}},"AdditionalRecommendationRequestDto":{"type":"object","properties":{"count":{"type":"integer","format":"int32"}}},"RecommendedUserDto":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"name":{"type":"string"},"age":{"type":"string"},"hobbies":{"type":"string"},"location":{"type":"string"},"videoUrl":{"type":"string"}}},"MessageRequestDto":{"type":"object","properties":{"messageContent":{"type":"string"},"messageType":{"type":"string"}}},"MessageResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"roomId":{"type":"integer","format":"int64"},"senderId":{"type":"integer","format":"int64"},"messageContent":{"type":"string"},"messageType":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"Message":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int64"},"room":{"$ref":"#/components/schemas/Room"},"senderId":{"type":"integer","format":"int64"},"messageContent":{"type":"string"},"messageType":{"type":"string","enum":["TEXT","VIDEO"]}}},"Participant":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int64"},"user":{"$ref":"#/components/schemas/User"},"room":{"$ref":"#/components/schemas/Room"}}},"Room":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int64"},"lastMessage":{"type":"string"},"participants":{"type":"array","items":{"$ref":"#/components/schemas/Participant"}},"messages":{"type":"array","items":{"$ref":"#/components/schemas/Message"}}}},"ChatRoomDto":{"type":"object","properties":{"roomId":{"type":"integer","format":"int64"},"lastMessage":{"type":"string"},"opponentUserId":{"type":"integer","format":"int64"},"opponentName":{"type":"string"},"opponentLocation":{"type":"string"},"opponentAge":{"type":"string"},"opponentHobbies":{"type":"array","items":{"type":"string"}},"opponentProfileUrl":{"type":"string"}}}}}}