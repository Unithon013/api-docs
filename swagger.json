{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/users/onboarding":{"post":{"tags":["user-controller"],"operationId":"onboarding","parameters":[{"name":"requestDto","in":"query","required":true,"schema":{"$ref":"#/components/schemas/OnboardingRequestDto"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/recommendations":{"get":{"tags":["recommendation-controller"],"operationId":"getRecommendations","parameters":[{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecommendedUserDto"}}}}}}},"post":{"tags":["recommendation-controller"],"operationId":"createRecommendation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Recommendation"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Recommendation"}}}}}}},"/recommendations/{targetUserId}/contact":{"post":{"tags":["recommendation-controller"],"operationId":"contactUser","parameters":[{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"targetUserId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Room"}}}}}}},"/recommendations/additional":{"post":{"tags":["recommendation-controller"],"operationId":"getAdditionalRecommendations","parameters":[{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdditionalRecommendationRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecommendedUserDto"}}}}}}}},"/chats/{chatId}/message":{"post":{"tags":["chat-controller"],"operationId":"sendMessage","parameters":[{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"chatId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Message"}}}}}}},"/chats/rooms":{"post":{"tags":["chat-controller"],"operationId":"createRoom","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Room"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Room"}}}}}}},"/users/me":{"get":{"tags":["user-controller"],"operationId":"getMyInfo","parameters":[{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/chats":{"get":{"tags":["chat-controller"],"operationId":"getMyChatRooms","parameters":[{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatRoomDto"}}}}}}}},"/chats/{chatId}/messages":{"get":{"tags":["chat-controller"],"operationId":"getMessages","parameters":[{"name":"chatId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Message"}}}}}}}}},"components":{"schemas":{"OnboardingRequestDto":{"type":"object","properties":{"video":{"type":"string","format":"binary"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"User":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"age":{"type":"string"},"hobbies":{"type":"string"},"videoUrl":{"type":"string"},"location":{"type":"string"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"point":{"type":"integer","format":"int32"}}},"Recommendation":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int64"},"user":{"$ref":"#/components/schemas/User"},"recommendedUser":{"$ref":"#/components/schemas/User"},"date":{"type":"string","format":"date"}}},"Message":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int64"},"room":{"$ref":"#/components/schemas/Room"},"senderId":{"type":"integer","format":"int64"},"messageContent":{"type":"string"},"messageType":{"type":"string","enum":["TEXT","VIDEO"]}}},"Participant":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int64"},"user":{"$ref":"#/components/schemas/User"},"room":{"$ref":"#/components/schemas/Room"}}},"Room":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int64"},"lastMessage":{"type":"string"},"participants":{"type":"array","items":{"$ref":"#/components/schemas/Participant"}},"messages":{"type":"array","items":{"$ref":"#/components/schemas/Message"}}}},"AdditionalRecommendationRequestDto":{"type":"object","properties":{"count":{"type":"integer","format":"int32"}}},"RecommendedUserDto":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"name":{"type":"string"},"age":{"type":"string"},"hobbies":{"type":"string"},"videoUrl":{"type":"string"}}},"MessageRequestDto":{"type":"object","properties":{"messageContent":{"type":"string"},"messageType":{"type":"string","enum":["TEXT","VIDEO"]}}},"ChatRoomDto":{"type":"object","properties":{"roomId":{"type":"integer","format":"int64"},"lastMessage":{"type":"string"},"opponentUserId":{"type":"integer","format":"int64"},"opponentName":{"type":"string"}}}}}}